version = '1.0.1'
group = 'top.mrxiaom'

subprojects {
    repositories {
        maven { url = "https://repo.huaweicloud.com/repository/maven/" }
        mavenCentral()
    }
    apply plugin: 'java'
    tasks.compileJava {
        sourceCompatibility = "1.8"
        targetCompatibility = "1.8"
    }

    version = rootProject.version
    group = rootProject.group
}

tasks.register("build", Copy.class) {
    subprojects {
        dependsOn(tasks.build)
        from new File(buildDir, "libs/" + rootProject.name + "-" + name + "-" + version + ".jar")
    }
    duplicatesStrategy DuplicatesStrategy.EXCLUDE
    destinationDir new File(buildDir, "libs")
}
